<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-09-28 Tue 11:25 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Informatics basics</title>
<meta name="author" content="Starovoytov Alexandr, Grechko Georgy" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="shortcut icon" type="image/x-icon" href="/infbasics/favicon.ico">
<style type="text/css">
/* Base */html,body {    background-color: #222;    min-height: 100%;    line-height: 1.5;}body {    color: #fafafa;    font-family: "Courier New";}::selection {    background-color:  #2ecc40;    color: white;}/* Responsive content positioning */@media only screen and (min-width: 1020px) /* Large screens */{    body{        padding: 10vh 25vw;    }}@media only screen and (max-width: 1020px) and (min-width: 750px) /* Small screens */{    body{        padding: 5vh 10vw;    }}@media only screen and (max-width: 750px) /* Small screens */{    body{        padding: 2vh 5vw;    }}/* Headers */h1{font-size: 2.5rem;}h2{font-size: 1.7rem;}h1 > .subtitle, h3, h4, h5, h6{font-size: 1.3rem;}.title{    margin-bottom: 2.5rem;}/* Padding & Margin */* {margin: 0; padding: 0;}pre, blockquote, ul, ol, p, table{    margin: 1rem 0;}h1, h2{margin-top: 2rem; line-height: 2rem;}h3, h4, h5, h6{margin-top: 1rem;}/* Links  */a, a:visited {    color: #01ff70;    text-decoration: underline;}a:hover, a:focus, a:active {    color: #2ecc40;}/* Code */pre {    font-family: "Courier New";    padding: .5rem;    background-color: #333;    padding: 0.5rem;    border-radius: 0.2rem;    font-size: 0.9rem;    color: #EEE;    overflow-x: auto;}.org-keyword{    color: #01ff70;}.org-rainbow-delimiters-depth-1{    color: #2ecc40;}.org-rainbow-delimiters-depth-2{    color: #01ff70;}/* Blockquotes */blockquote {    border-left: 3px solid #01ff70;    padding-left: 1rem;}li{    list-style-position: inside;}/* Tags */.tag{    margin-top: 0.5rem;    display: block;    color: white;    font-size: var(--font-size-xsmall);}.tag > span{		font-weight: 400;    font-size: 0.8rem;    background-color: #444;    text-transform: uppercase;    border-radius: 2px;    width: fit-content;    height: auto;    padding: 1px 5px;}/* Keywords */.todo{    color: #2ecc40;}.done{    color: #444;}/* Overflows */.outline-text-2, .outline-text-3, .outline-text-4{	  max-width: 100%;	  overflow-x: auto;}/* Table */tr:nth-child(even) {    background-color: #333;}th, td{    padding: 0.5rem;    text-align: center;}.underline{    text-decoration: underline;}img{    max-width: 100%;    height: auto;}
</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Informatics basics</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgda3724a">1. Преподаватель</a></li>
<li><a href="#org80a377a">2. Основные понятия информатики</a>
<ul>
<li><a href="#org5bf9bfa">2.1. Данные</a></li>
<li><a href="#org335a8e4">2.2. Алгоритм</a></li>
<li><a href="#org6f6be30">2.3. Свойства алгоритма:</a></li>
<li><a href="#org3bd1dbf">2.4. Компьютерная программа</a></li>
<li><a href="#org8e0a445">2.5. Язык программирования</a></li>
<li><a href="#orgdc2b28f">2.6. Компьютер</a></li>
<li><a href="#org225d3c3">2.7. Подпрограмма</a></li>
<li><a href="#org517454e">2.8. Сопрограмма</a></li>
</ul>
</li>
<li><a href="#orgecd92c2">3. Парадигмы программирования</a>
<ul>
<li><a href="#org694e15d">3.1. Основные группы парадигм</a></li>
<li><a href="#orgfb6fe01">3.2. примеры</a></li>
</ul>
</li>
<li><a href="#org51cfc15">4. Язык Scheme</a>
<ul>
<li><a href="#orgd3a0ab4">4.1. информация о языке</a></li>
<li><a href="#orgf82f537">4.2. основные постулаты языка LISP</a></li>
<li><a href="#orgca1e8b9">4.3. операторы</a></li>
</ul>
</li>
<li><a href="#org84372bc">5. Лекция 2</a>
<ul>
<li><a href="#orgda1e048">5.1. Codestyle in if-statements</a></li>
<li><a href="#orgde19f53">5.2. Выражение cond</a></li>
<li><a href="#org6ab1d35">5.3. Выражение case</a>
<ul>
<li><a href="#org4a4cff7">5.3.1. <span class="todo TODO">TODO</span> добавить самостоятельно</a></li>
</ul>
</li>
<li><a href="#orge796539">5.4. Простые (не составные) значения</a></li>
<li><a href="#orgaed2422">5.5. Функции высших порядков</a></li>
</ul>
</li>
<li><a href="#orgda67f02">6. Лекция 3</a>
<ul>
<li><a href="#org467e321">6.1. let, let* и letrec</a></li>
</ul>
</li>
<li><a href="#orgd17b346">7. Лекция 4</a>
<ul>
<li><a href="#org48fe860">7.1. хвостовая рекурсия</a>
<ul>
<li><a href="#org1ab6d9b">7.1.1. рекурсия</a></li>
<li><a href="#org011aaac">7.1.2. как цикл while выражать в виде рекурсии</a></li>
<li><a href="#orgc0073a6">7.1.3. определение хвостовой рекурсии</a></li>
<li><a href="#orgcf39409">7.1.4. вызов подпрограммы</a></li>
<li><a href="#orgcc18161">7.1.5. <span class="todo TODO">TODO</span> fix name</a></li>
<li><a href="#orga263da3">7.1.6. списки</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org36080fc">8. Лекция 5</a>
<ul>
<li><a href="#org7b08ac8">8.1. функция map</a></li>
<li><a href="#org0382bc1">8.2. списков не существует (в Scheme)</a></li>
<li><a href="#org0823492">8.3. Функции с переменным числом параметров</a></li>
</ul>
</li>
<li><a href="#orgf3291db">9. Лекция 6</a>
<ul>
<li><a href="#org075af42">9.1. Вычислительная сложность</a>
<ul>
<li><a href="#org0e66f23">9.1.1. <span class="todo TODO">TODO</span> вынести комментарии из кода</a></li>
<li><a href="#orgab6ea7e">9.1.2. Сравнение на равенство</a></li>
<li><a href="#orgea334ca">9.1.3. дз сдвигается на неделю (28.09 сдаем только первые 2 задачи)</a></li>
<li><a href="#org0f9008b">9.1.4. как достигать линейной сложности</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<a href="https://github.com/stewkk/iu9-scheme/">Лабы и дз</a>
</p>

<div id="outline-container-orgda3724a" class="outline-2">
<h2 id="orgda3724a"><span class="section-number-2">1.</span> Преподаватель</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Коновалов Александр Владимирович</li>
<li>89175404352</li>
<li>akonovalov@bmstu.ru</li>
<li>a.v.konovalov87@mail.ru</li>
</ul>
</div>
</div>
<div id="outline-container-org80a377a" class="outline-2">
<h2 id="org80a377a"><span class="section-number-2">2.</span> Основные понятия информатики</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org5bf9bfa" class="outline-3">
<h3 id="org5bf9bfa"><span class="section-number-3">2.1.</span> Данные</h3>
<div class="outline-text-3" id="text-2-1">
<p>
это представление фактов, понятий, инструкций в форме, приемлемой
для обмена, интерпретации или обработки человеком или с помощью
автоматических средств
</p>
</div>
</div>
<div id="outline-container-org335a8e4" class="outline-3">
<h3 id="org335a8e4"><span class="section-number-3">2.2.</span> Алгоритм</h3>
<div class="outline-text-3" id="text-2-2">
<p>
это конечная совокупность точно заданных правил решения прозвольного класса
задач или набор инструкций, описывающий порядок действий исполнителя для
решения некотрой задачи
</p>
</div>
</div>
<div id="outline-container-org6f6be30" class="outline-3">
<h3 id="org6f6be30"><span class="section-number-3">2.3.</span> Свойства алгоритма:</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li>Дискретность <br />
делится на отдельные элементарные части,
отвечающие за определенные действия.</li>
<li>Детерминированность <br />
на одних и тех же входных данных - один и тот же результат.</li>
<li>Понятность <br />
элементы алгоритма должны быть понятны исполнителю.</li>
<li>Завершаемость <br />
если не завершается - то это вычислительный процесс.</li>
<li>Массовость <br />
алгоритм пригоден для решения всех задач данного типа.</li>
<li>Результативность <br />
указывает на наличие таких исходных данных, для которых реализуемый
по заданному алгоритму вычислительный процесс должен через конечное
число шагов остановиться и выдать искомый результат.</li>
</ol>
</div>
</div>
<div id="outline-container-org3bd1dbf" class="outline-3">
<h3 id="org3bd1dbf"><span class="section-number-3">2.4.</span> Компьютерная программа</h3>
<div class="outline-text-3" id="text-2-4">
<p>
это алгоритм, записанный на некотором языке программирования
</p>
</div>
</div>
<div id="outline-container-org8e0a445" class="outline-3">
<h3 id="org8e0a445"><span class="section-number-3">2.5.</span> Язык программирования</h3>
<div class="outline-text-3" id="text-2-5">
<p>
формальный язык, предназначенный для записи компьютерных программ
</p>
</div>
</div>
<div id="outline-container-orgdc2b28f" class="outline-3">
<h3 id="orgdc2b28f"><span class="section-number-3">2.6.</span> Компьютер</h3>
<div class="outline-text-3" id="text-2-6">
<p>
программно управляемое устройство для обработки информации
</p>
</div>
</div>
<div id="outline-container-org225d3c3" class="outline-3">
<h3 id="org225d3c3"><span class="section-number-3">2.7.</span> Подпрограмма</h3>
<div class="outline-text-3" id="text-2-7">
<p>
некоторый именованный блок кода. <br />
Вызывающая программа приостанавливается, управление передается
подпрограмме,
по завершению управление передается обратно
</p>
</div>
</div>
<div id="outline-container-org517454e" class="outline-3">
<h3 id="org517454e"><span class="section-number-3">2.8.</span> Сопрограмма</h3>
<div class="outline-text-3" id="text-2-8">
<p>
в отличие от подпрограммы работает поочередно с вызывающей программой.
При повторном вызове возобновит выполнение с момента, где остановилась
</p>
</div>
</div>
</div>
<div id="outline-container-orgecd92c2" class="outline-2">
<h2 id="orgecd92c2"><span class="section-number-2">3.</span> Парадигмы программирования</h2>
<div class="outline-text-2" id="text-3">
<p>
совокупность идей и понятий, определяющих стиль написания компьютерных
программ (подход к программированию). Это способ концептуализации,
определяющий организацию вычислений и структурирование работы, выполняемой
компьютером.
</p>
</div>
<div id="outline-container-org694e15d" class="outline-3">
<h3 id="org694e15d"><span class="section-number-3">3.1.</span> Основные группы парадигм</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>Императивные <br />
способ записи программ, в котором указывается последовательность
действий <br />
основной признак - оператор присваивания (меняющий значение переменной)
<ol class="org-ol">
<li>Структурное программирование <br />
программа является композицией блоков с одним входом и
одним выходом <br />
(есть операторы ветвления и цикла, но нет goto)</li>
<li>Процедурное программирование <br />
совокупность подпрограмм, где одни подпрограммы вызывают другие</li>
<li>Объектно-ориентированное <br />
программа рассматривается как набор некоторых взаимодействующих
объектов. <br />
Объект сочетает в себе данные и методы их обработки,
методы вызываются в ответ на сообщение: <br />
посылаем сообщение объекту -&gt; вызывает метод -&gt; возвращает ответ <br />
объекты объединяются в классы</li>
</ol></li>
<li>Декларативные <br />
способ записи программ, в котором описывается взаимосвязь между
данными, описывается цель, но не последовательность шагов ее вычисления
<ol class="org-ol">
<li><p>
Функциональное <br />
алгоритм записывается как набор взаимосвязанных функций, функции
рассматриваются с математической точки зрения, <br />
описывает взаимосвязь между данными и результатом
</p>
<div class="org-src-container">
<pre class="src src-"c"">      x = f(y) + g(z);
</pre>
</div></li>
<li>Логическое (Prolog + отчасти SQL) <br />
алгоритм описывает взаимосвязь между понятиями. <br />
Выполнение программы сводится к выполнению запросов</li>
</ol></li>
<li>Метапрограммирование <br />
метаирония. Программа рассматривается как данные/объект для
другой программы
<ol class="org-ol">
<li>Программу пишут программы <br />
Например: макросы, генераторы кода, шаблоны С++ (фигня нечитаемая
зачем он постоянно в руках часы крутит попит симпл димпл круче
нет попит симпл димпл попит симпл димпл маленький красивый
попит большой и милый)</li>
<li>Программа взаимодействует с вычислительной средой <br />
Рефлексия или интроспекция - самоанализ. <br />
Например, посмотреть поля и значения в объекте класса</li>
</ol></li>
</ol>
</div>
</div>
<div id="outline-container-orgfb6fe01" class="outline-3">
<h3 id="orgfb6fe01"><span class="section-number-3">3.2.</span> примеры</h3>
<div class="outline-text-3" id="text-3-2">
<pre class="example" id="orge34d21a">
ИП: sort(array);
ФП: sorted_list = sort(list)
    sorted_list - константа, т.к. нет присваивания
ЛП: sort(unsorted, sorted)
</pre>
</div>
</div>
</div>
<div id="outline-container-org51cfc15" class="outline-2">
<h2 id="org51cfc15"><span class="section-number-2">4.</span> Язык Scheme</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgd3a0ab4" class="outline-3">
<h3 id="orgd3a0ab4"><span class="section-number-3">4.1.</span> информация о языке</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Lisp 1950-е годы Джон МакКарти <br />
LISt Processing <br />
Scheme 1970-е годы Абельсон и Сассман <br />
изучаем R5RS <br />
современная редакция R7RS
</p>
<ul class="org-ul">
<li>другие языки семейства LISP:
<ul class="org-ul">
<li>Common Lisp</li>
<li>Clojure</li>
<li>Racket</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgf82f537" class="outline-3">
<h3 id="orgf82f537"><span class="section-number-3">4.2.</span> основные постулаты языка LISP</h3>
<div class="outline-text-3" id="text-4-2">
<ol class="org-ol">
<li>единство кода и данных</li>
<li>все есть список</li>
<li>выражение является списком <br />
операция указывается в первом элементе</li>
<li>все выражения вычисляют значения (почти все)</li>
</ol>
</div>
</div>
<div id="outline-container-orgca1e8b9" class="outline-3">
<h3 id="orgca1e8b9"><span class="section-number-3">4.3.</span> операторы</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;&#1090;&#1077;&#1088;&#1084;&gt; ::= &lt;&#1072;&#1090;&#1086;&#1084;&gt;|&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;&#1072;&#1090;&#1086;&#1084;&gt; ::= &lt;&#1087;&#1077;&#1088;&#1077;&#1084;&gt;|&lt;&#1095;&#1080;&#1089;&#1083;&#1086;&gt;|&lt;&#1089;&#1080;&#1084;&#1086;&#1083;&gt;|&lt;&#1089;&#1090;&#1088;&#1086;&#1082;&#1072;&gt;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt; ::= (&lt;&#1090;&#1077;&#1088;&#1084;&#1099;&gt;)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;&#1090;&#1077;&#1088;&#1084;&#1099;&gt; ::= &lt;&#1087;&#1091;&#1089;&#1090;&#1086;&gt; | &lt;&#1090;&#1077;&#1088;&#1084;&gt;&lt;&#1090;&#1077;&#1088;&#1084;&#1099;&gt;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;&#1087;&#1091;&#1089;&#1090;&#1086;&gt; ::=</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">i-am-variable - &#1080;&#1084;&#1103; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1086;&#1081; &#1084;&#1086;&#1078;&#1077;&#1090; &#1074;&#1082;&#1083;&#1102;&#1095;&#1072;&#1090;&#1100; "-", "+", "*", "/"...</span>
<span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">"+" - &#1080;&#1084;&#1103; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1089;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">"1 2 3" - &#1072;&#1088;&#1075;&#1091;&#1084;&#1077;&#1085;&#1090;&#1099;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1099; &#1089;&#1087;&#1080;&#1089;&#1082;&#1072; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083;&#1103;&#1102;&#1090;&#1089;&#1103; &#1087;&#1088;&#1086;&#1073;&#1077;&#1083;&#1072;&#1084;&#1080;</span>

</pre>
</div>

<pre class="example">
6
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>a <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)(</span>b <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)(</span>c <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1089;&#1087;&#1080;&#1089;&#1082;&#1086;&#1074;</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077; &#1074;&#1080;&#1076;&#1072;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(f a b c) - &#1074;&#1099;&#1079;&#1086;&#1074; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">((f x) y) - &#1089;&#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; (f x),</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1090;&#1086;, &#1095;&#1090;&#1086; &#1086;&#1085;&#1072; &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1080;&#1090; &#1089; &#1072;&#1088;&#1075;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1084; y</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1054;&#1089;&#1086;&#1073;&#1072;&#1103; &#1092;&#1086;&#1088;&#1084;&#1072; - &#1087;&#1077;&#1088;&#1074;&#1099;&#1081; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090; &#1089;&#1087;&#1080;&#1089;&#1082;&#1072; - &#1082;&#1083;&#1102;&#1095;&#1077;&#1074;&#1086;&#1077; &#1089;&#1083;&#1086;&#1074;&#1086;</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">pi</span> <span style="color: #da8548; font-weight: bold;">3.1415926</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">pi - &#1080;&#1084;&#1103; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1086;&#1081;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">3.14.. - &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">pi</span> <span style="color: #c678dd;">(</span>* <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #98be65;">(</span>atan <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">f</span> a b c<span style="color: #c678dd;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1086;&#1087;&#1077;&#1088;&#1077;&#1076;&#1077;&#1083;&#1103;&#1077;&#1090; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;</span>
    <span style="color: #c678dd;">(</span>+ <span style="color: #98be65;">(</span>* <span style="color: #da8548; font-weight: bold;">2</span> a<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>/ b c<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(if &lt;&#1074;&#1099;&#1088;&#1072;&#1078; 1&gt;</span>
<span style="color: #5B6268;">;;     </span><span style="color: #5B6268;">&lt;&#1074;&#1099;&#1088;&#1072;&#1078; 2&gt;</span>
<span style="color: #5B6268;">;;     </span><span style="color: #5B6268;">&lt;&#1074;&#1099;&#1088;&#1072;&#1078; 3&gt;)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1045;&#1089;&#1083;&#1080; &lt;&#1074;&#1099;&#1088;&#1072;&#1078; 1&gt; - &#1083;&#1086;&#1078;&#1100;,</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;&#1084; (if ...) &#1089;&#1090;&#1072;&#1085;&#1077;&#1090; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &lt;&#1074;&#1099;&#1088;&#1072;&#1078;3&gt;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(&lt;&#1074;&#1099;&#1088;&#1072;&#1078; 2&gt; &#1085;&#1077; &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103;), &#1080; &#1085;&#1072;&#1086;&#1073;&#1086;&#1088;&#1086;&#1090;</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">#f - &#1083;&#1086;&#1078;&#1100;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">#t - &#1080;&#1089;&#1090;&#1080;&#1085;&#1072;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">if &#1089;&#1095;&#1080;&#1090;&#1072;&#1077;&#1090; &#1080;&#1089;&#1090;&#1080;&#1085;&#1086;&#1081; &#1074;&#1089;&#1077; &#1095;&#1090;&#1086; &#1085;&#1077; &#1083;&#1086;&#1078;&#1100;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
2
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> #f <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

</pre>
</div>

<pre class="example">
2
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> #t <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(&lt; x y)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(&gt; x y)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(= x y)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&gt;=</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&lt;=</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(/ x y)</span>
<span style="color: #51afef;">(</span>/ <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(quotient x y) - &#1094;&#1077;&#1083;&#1086;&#1077; &#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1077;</span>
<span style="color: #51afef;">(</span>quotient <span style="color: #da8548; font-weight: bold;">30</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
4
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(remainder x y) -&gt; &#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1082;</span>
<span style="color: #51afef;">(</span>remainder <span style="color: #da8548; font-weight: bold;">30</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
2
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">"&#1086;&#1089;&#1086;&#1073;&#1099;&#1077; &#1092;&#1086;&#1088;&#1084;&#1099;"</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(and e1 e2 ... en) - &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1090; #f &#1077;&#1089;&#1083;&#1080; &#1093;&#1086;&#1090;&#1103; &#1073;&#1099; &#1086;&#1076;&#1080;&#1085; ei = #f, &#1080;&#1085;&#1072;&#1095;&#1077; en</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(or ...) - &#1074;&#1077;&#1088;&#1085;&#1077;&#1090; &#1087;&#1077;&#1088;&#1074;&#1086;&#1077; &#1085;&#1077; &#1083;&#1086;&#1078;&#1085;&#1086;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;</span>


<span style="color: #51afef;">(</span><span style="color: #51afef;">and</span> <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> #f <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#f
</pre>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(or (= x 0) (/ 1 x)) - &#1085;&#1077; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1090; &#1082; &#1086;&#1096;&#1080;&#1073;&#1082;&#1077; &#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1085;&#1072; 0, &#1085;&#1080;&#1082;&#1086;&#1075;&#1076;&#1072;</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">or</span> <span style="color: #c678dd;">(</span>= <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>/ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(not x) - &#1083;&#1086;&#1075;&#1080;&#1095;&#1077;&#1089;&#1082;&#1086;&#1077; &#1086;&#1090;&#1088;&#1080;&#1094;&#1072;&#1085;&#1080;&#1077; #f -&gt; #t</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">not x -&gt; #f, x != #f</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1077;&#1085;&#1080;&#1103; &#1083;&#1077;&#1085;&#1080;&#1074;&#1099;&#1077;!</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
6
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">pi</span> <span style="color: #c678dd;">(</span>* <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #98be65;">(</span>atan <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">area</span> r<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>* r r<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">e</span> <span style="color: #c678dd;">(</span>exp <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">hypot</span> x y<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>sqrt <span style="color: #98be65;">(</span>+ <span style="color: #a9a1e1;">(</span>* x x<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>* y y<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">; </span><span style="color: #5B6268;">if &#1074;&#1089;&#1077;&#1075;&#1076;&#1072; &#1074; 3 &#1089;&#1090;&#1088;&#1086;&#1082;&#1080;</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fac</span> x<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>= x <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span>
                     <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #98be65;">(</span>* <span style="color: #a9a1e1;">(</span>fac <span style="color: #51afef;">(</span>- x <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span> x<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-positive?</span> n<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>&gt; n <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-abs</span> x<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&lt; x <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>-x<span style="color: #98be65;">)</span>
      x<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

</pre>
</div>

<pre class="example">
#&lt;unspecified&gt;
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">factorial</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">loop</span> acc i<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&gt; i n<span style="color: #98be65;">)</span>
      acc
      <span style="color: #98be65;">(</span>loop <span style="color: #a9a1e1;">(</span>* acc i<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>+ i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>loop <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-odd</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>= <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #98be65;">(</span>remainder n <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-even</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>= <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #98be65;">(</span>remainder n <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>my-odd <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#f
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>my-odd <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>my-even <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>my-even <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#f
</pre>
</div>
</div>
</div>

<div id="outline-container-org84372bc" class="outline-2">
<h2 id="org84372bc"><span class="section-number-2">5.</span> Лекция 2</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgda1e048" class="outline-3">
<h3 id="orgda1e048"><span class="section-number-3">5.1.</span> Codestyle in if-statements</h3>
<div class="outline-text-3" id="text-5-1">
<ol class="org-ol">
<li>Условное выражение лучше писать в 3 строки: <br />
условие <br />
ветка 1 <br />
ветка 2</li>
<li><p>
Плохой стиль - использовать в ветках #t и #f
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1085;&#1077;&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> e1
    e2
    #t<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">or</span> <span style="color: #c678dd;">(</span>not e1<span style="color: #c678dd;">)</span> e2<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1085;&#1077;&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> e1
    #t
    e2<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">or</span> e1 e2<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1085;&#1077;&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> e1
    e2
    #f<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">and</span> e1 e2<span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1085;&#1077;&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">if</span> e1
    #f
    e2<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1077;&#1088;&#1085;&#1086;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">and</span> <span style="color: #c678dd;">(</span>not e1<span style="color: #c678dd;">)</span> e2<span style="color: #51afef;">)</span>
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orgde19f53" class="outline-3">
<h3 id="orgde19f53"><span class="section-number-3">5.2.</span> Выражение cond</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">cond</span> <span style="color: #c678dd;">(</span>c1 e1<span style="color: #c678dd;">)</span>
      <span style="color: #c678dd;">(</span>c2 e2<span style="color: #c678dd;">)</span>
      ...
      <span style="color: #c678dd;">(</span>cn en<span style="color: #c678dd;">)</span>
      <span style="color: #c678dd;">(</span><span style="color: #51afef;">else</span> eE<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1084;&#1086;&#1078;&#1085;&#1086; &#1073;&#1077;&#1079; else</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1076;&#1083;&#1103; &#1087;&#1077;&#1088;&#1074;&#1086;&#1075;&#1086; &#1078;&#1077; &#1091;&#1089;&#1083;&#1086;&#1074;&#1080;&#1103; ci &#1085;&#1077; &#1103;&#1074;&#1083;&#1103;&#1102;&#1097; #f &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1090; ei, &#1080;&#1085;&#1072;&#1095;&#1077; eE</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1076;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1084;&#1086; &#1087;&#1080;&#1089;&#1072;&#1090;&#1100; #f #t</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6ab1d35" class="outline-3">
<h3 id="org6ab1d35"><span class="section-number-3">5.3.</span> Выражение case</h3>
<div class="outline-text-3" id="text-5-3">
<p>
не будет на экзамене,
</p>
</div>
<div id="outline-container-org4a4cff7" class="outline-4">
<h4 id="org4a4cff7"><span class="section-number-4">5.3.1.</span> <span class="todo TODO">TODO</span> добавить самостоятельно</h4>
</div>
</div>
<div id="outline-container-orge796539" class="outline-3">
<h3 id="orge796539"><span class="section-number-3">5.4.</span> Простые (не составные) значения</h3>
<div class="outline-text-3" id="text-5-4">
<ul class="org-ul">
<li>Числа: 5, 100500, 6.12324, -1 1/3&#x2026;</li>
<li>строки: &ldquo;Hello&rdquo;, можно использовать esape-последовательности языка C</li>
<li>Логический тип: #t #f</li>
<li>Литерный (character): #\x, #\newline</li>
<li>Символьный (symbol): &rsquo;hello</li>
<li>Процедурный (lambda (&#x2026;))</li>
<li>&#x2026;</li>
</ul>
</div>
</div>
<div id="outline-container-orgaed2422" class="outline-3">
<h3 id="orgaed2422"><span class="section-number-3">5.5.</span> Функции высших порядков</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1050;&#1086;&#1085;&#1089;&#1090;&#1088;&#1091;&#1082;&#1094;&#1080;&#1103; (lambda ...) &#1089;&#1090;&#1088;&#1086;&#1080;&#1090; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1091;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1088;&#1080;&#1085;&#1103;&#1090;&#1085;&#1086; "&#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1072;", &#1072; &#1085;&#1077; "&#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103;"</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #c678dd;">(</span><span style="color: #ECBE7B;">&lt;&#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099;&gt;</span><span style="color: #c678dd;">)</span>
  <span style="color: #ECBE7B;">&lt;&#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077;&gt;</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1042; &#1088;&#1077;&#1079;&#1091;&#1083;&#1100;&#1090;&#1072;&#1090;&#1077; &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;&#1089;&#1103; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1077; &#1084;&#1086;&#1078;&#1085;&#1086; &#1074;&#1099;&#1079;&#1074;&#1072;&#1090;&#1100;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1053;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;:</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x y<span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>+ x y<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
 <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 8</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #c678dd;">(</span>x y<span style="color: #c678dd;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt;</span>
  <span style="color: #c678dd;">(</span>+ x y<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;;    </span><span style="color: #5B6268;">-&gt; &#1057;&#1058;&#1056;&#1054;&#1048;&#1058; &#1055;&#1056;&#1054;&#1062;&#1045;&#1044;&#1059;&#1056;&#1059;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1101;&#1090;&#1072; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1072; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1089; 2-&#1084;&#1103; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1072;&#1084;&#1080;: 5 3</span>

<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f <span style="color: #a9a1e1;">(</span>f <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1088;&#1080;&#1085;&#1080;&#1084;&#1072;&#1077;&#1090; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1102; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; &#1077;&#1077; &#1089; 2, &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; &#1077;&#1077; &#1086;&#1090; &#1088;&#1077;&#1079;&#1091;&#1083;&#1100;&#1090;&#1072;&#1090;&#1072; &#1087;&#1077;&#1088;&#1074;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;</span>
 <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>* x x<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 16</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(2^2)^2 = 16</span>

<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f <span style="color: #a9a1e1;">(</span>f <span style="color: #da8548; font-weight: bold;">81</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> sqrt<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 3</span>

<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f <span style="color: #a9a1e1;">(</span>f <span style="color: #da8548; font-weight: bold;">81</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
 lambda <span style="color: #c678dd;">(</span>y<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>sqrt y<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 3</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(lambda (x) (g x)) &#1090;&#1086;&#1078;&#1076;. g - &#1093;&#1074;&#1072;&#1090;&#1072;&#1077;&#1090; &#1076;&#1083;&#1103; &#1086;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1103; &#1083;&#1102;&#1073;&#1086;&#1075;&#1086; &#1072;&#1083;&#1075;&#1086;&#1088;&#1080;&#1090;&#1084;&#1072;</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(lambda (x y) (n x y)) &#1090;&#1086;&#1078;&#1076;. n</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">n - &#1082;&#1086;&#1085;&#1074;&#1077;&#1088;&#1089;&#1080;&#1103; &#1073;&#1091;&#1082;&#1074;&#1072; "&#1101;&#1090;&#1072;"</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">pi</span> <span style="color: #c678dd;">(</span>* <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #98be65;">(</span>atan <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">square</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>* x x<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1090;&#1086; &#1078;&#1077;, &#1095;&#1090;&#1086; &#1080;:</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">square</span> x<span style="color: #c678dd;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; &#1057;&#1086;&#1082;&#1088;&#1072;&#1097;&#1077;&#1085;&#1085;&#1072;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;</span>
  <span style="color: #c678dd;">(</span>* x x<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>         <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; (&#1089;&#1080;&#1085;&#1090;&#1072;&#1082;&#1089;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1081; &#1089;&#1072;&#1093;&#1072;&#1088;)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1082;&#1086;&#1084;&#1087;&#1080;&#1083;&#1080;&#1088;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074; &#1086;&#1076;&#1080;&#1085; &#1080; &#1090;&#1086;&#1090; &#1078;&#1077; &#1082;&#1086;&#1076;</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">f</span> ...<span style="color: #c678dd;">)</span> ...<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;;   </span><span style="color: #5B6268;">||</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">f</span> <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>...<span style="color: #98be65;">)</span> ...<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">multi-apply</span> f x n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>= n <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span>
      x
      <span style="color: #98be65;">(</span>f <span style="color: #a9a1e1;">(</span>multi-apply f x <span style="color: #51afef;">(</span>- n <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
f'<span style="color: #51afef;">(</span>x<span style="color: #51afef;">)</span> = x
f'<span style="color: #51afef;">(</span>x<span style="color: #51afef;">)</span> = f<span style="color: #51afef;">(</span>f<span style="color: #c678dd;">(</span>f...f<span style="color: #98be65;">(</span>x<span style="color: #98be65;">)</span>...<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;;      </span><span style="color: #5B6268;">n &#1088;&#1072;&#1079;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">square</span> x<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>* x x<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>multi-apply square <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 6561 = 3^8</span>
<span style="color: #51afef;">(</span>multi-apply square <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 65536 = 2^16</span>
<span style="color: #51afef;">(</span>multi-apply
 <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>z<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> z<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
 <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 7</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">select</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">cond</span><span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>= n <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #a9a1e1;">)</span> +<span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>= n <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span> -<span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>= n <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #51afef;">(</span>x y<span style="color: #51afef;">)</span>
                  <span style="color: #51afef;">(</span>sqrt <span style="color: #c678dd;">(</span>+ <span style="color: #98be65;">(</span>* x x<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>* y y<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span><span style="color: #51afef;">else</span> <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #51afef;">(</span>x y<span style="color: #51afef;">)</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>select <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 5</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>select <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 3</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>select <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 5</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>select <span style="color: #da8548; font-weight: bold;">10</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">100</span> <span style="color: #da8548; font-weight: bold;">500</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 0</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgda67f02" class="outline-2">
<h2 id="orgda67f02"><span class="section-number-2">6.</span> Лекция 3</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>1 порядок - простое возвр значение (не функция)</li>
<li>высшего порядка - возвращает функцию</li>
<li>в Scheme - функции - объекты 1го класса</li>
<li><p>
объекты первого класса - с которыми можно применять все допустимые операции (не пораженные в правах)
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">cond</span> <span style="color: #c678dd;">(</span>&#1091;&#1089;&#1083;1 &#1074;&#1099;&#1088;1<span style="color: #c678dd;">)</span>
      <span style="color: #c678dd;">(</span>&#1091;&#1089;&#1083;k -&gt; &#1087;&#1088;&#1086;&#1094;<span style="color: #c678dd;">)</span>
      ...
      <span style="color: #c678dd;">(</span><span style="color: #51afef;">else</span> &#1074;&#1099;&#1088;&#1072;&#1078;E<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;:</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">f</span> a b c<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">cond</span> <span style="color: #98be65;">(</span>a -&gt; <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #51afef;">(</span>x<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>* x x<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
        <span style="color: #98be65;">(</span>b -&gt; sqrt<span style="color: #98be65;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">((assoc xsk) -&gt; car)</span>
        <span style="color: #98be65;">(</span>c -&gt; -<span style="color: #98be65;">)</span>
        <span style="color: #98be65;">(</span><span style="color: #51afef;">else</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>f #f <span style="color: #da8548; font-weight: bold;">9</span> <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 3</span>
<span style="color: #51afef;">(</span>f <span style="color: #da8548; font-weight: bold;">15</span> <span style="color: #da8548; font-weight: bold;">3</span> #f<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 225</span>
<span style="color: #51afef;">(</span>f #f #f <span style="color: #da8548; font-weight: bold;">100</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; -100</span>
<span style="color: #51afef;">(</span>f #f #f #f<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 0</span>


<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">mul</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #a9a1e1;">(</span>y<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>* x y<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>mul <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">9</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 63</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>mul <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 9</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">twice</span> <span style="color: #c678dd;">(</span>mul <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1076;&#1074;&#1072;&#1078;&#1076;&#1099;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">triple</span> <span style="color: #c678dd;">(</span>mul <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1090;&#1088;&#1080;&#1078;&#1076;&#1099;</span>
<span style="color: #51afef;">(</span>twice <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 14</span>
<span style="color: #51afef;">(</span>triple <span style="color: #da8548; font-weight: bold;">12</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 36</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">pair</span> x y<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f x y<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">first</span> p<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>p <span style="color: #98be65;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #a9a1e1;">(</span>x y<span style="color: #a9a1e1;">)</span> x<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">second</span> p<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>p <span style="color: #98be65;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #a9a1e1;">(</span>x y<span style="color: #a9a1e1;">)</span> y<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">p1</span> <span style="color: #c678dd;">(</span>pair <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">p1 ~ (lambda (f) (f 2 3))</span>
<span style="color: #51afef;">(</span>first p1<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>first <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt;
-&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>f<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>f <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x y<span style="color: #98be65;">)</span> x<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt;
-&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>x y<span style="color: #98be65;">)</span> x<span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">2</span>
<span style="color: #51afef;">(</span>first p1<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 2</span>
<span style="color: #51afef;">(</span>second p1<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 3</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">swap</span> p<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>p <span style="color: #98be65;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #a9a1e1;">(</span>x y<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>pair y x<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">swap</span> p<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>pair <span style="color: #98be65;">(</span>second p<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>first p<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div></li>
</ul>
</div>
<div id="outline-container-org467e321" class="outline-3">
<h3 id="org467e321"><span class="section-number-3">6.1.</span> let, let* и letrec</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Используются для определения вспомогательных переменных
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;1 &#1079;&#1085;&#1072;&#1095;1<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;2 &#1079;&#1085;&#1072;&#1095;2<span style="color: #98be65;">)</span>
      ...
      <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;n &#1079;&#1085;&#1072;&#1095;n<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  &#1074;&#1099;&#1088;&#1072;&#1078;<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1099;&#1077; &#1084;&#1086;&#1075;&#1091;&#1090; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1074; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1080; "&#1074;&#1099;&#1088;&#1072;&#1078;"</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1083;&#1086;&#1097;&#1072;&#1076;&#1080; &#1090;&#1088;&#1077;&#1091;&#1075;&#1086;&#1083;&#1100;&#1085;&#1080;&#1082;&#1072; &#1087;&#1086; &#1092;&#1086;&#1088;&#1084;&#1091;&#1083;&#1077; &#1075;&#1077;&#1088;&#1086;&#1085;&#1072;:</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">(</span>s a b c<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>p <span style="color: #51afef;">(</span>/ <span style="color: #c678dd;">(</span>+ a b c<span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span>sqrt <span style="color: #a9a1e1;">(</span>* p <span style="color: #51afef;">(</span>- p a<span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>- p b<span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>- p c<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1047;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; "&#1074;&#1089;&#1087;&#1086;&#1084;&#1086;&#1075;&#1072;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;&#1081;" &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1086;&#1081; &#1085;&#1077; &#1084;&#1086;&#1078;&#1077;&#1090;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1089;&#1089;&#1099;&#1083;&#1072;&#1090;&#1100;&#1089;&#1103; &#1085;&#1072; &#1087;&#1088;&#1077;&#1076;&#1099;&#1076;&#1091;&#1097;&#1080;&#1077;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>v1 e1<span style="color: #98be65;">)</span> .. <span style="color: #98be65;">(</span>vN eN<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> e<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;;       </span><span style="color: #5B6268;">|||</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #98be65;">(</span>v1 .... vN<span style="color: #98be65;">)</span> e<span style="color: #c678dd;">)</span>
 e1 ....... eN<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1086;&#1088;&#1103;&#1076;&#1086;&#1082; &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1077;&#1085;&#1080;&#1103; &#1072;&#1088;&#1075;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1085;&#1077; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;</span>
<span style="color: #5B6268;">;;;;;;;;;;;;;;;;;;;;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">let*</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let*</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;1 &#1079;&#1085;&#1072;&#1095;1<span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;2 &#1079;&#1085;&#1072;&#1095;2<span style="color: #98be65;">)</span>
       ...
       <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;n &#1079;&#1085;&#1072;&#1095;n<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  &#1074;&#1099;&#1088;&#1072;&#1078;<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1042; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1080; &#1079;&#1085;&#1072;&#1095;k &#1084;&#1086;&#1078;&#1085;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1087;&#1077;&#1088;&#1077;&#1084;i, i &lt; k</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let*</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>a <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>b <span style="color: #a9a1e1;">(</span>+ a <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>c <span style="color: #a9a1e1;">(</span>* a b<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
       <span style="color: #98be65;">(</span>d <span style="color: #a9a1e1;">(</span>- a c<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>+ a b c d<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1103;&#1102;&#1090;&#1089;&#1103; &#1089;&#1090;&#1088;&#1086;&#1075;&#1086; &#1089;&#1074;&#1077;&#1088;&#1093;&#1091;-&#1074;&#1085;&#1080;&#1079;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let*</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>v1 e1<span style="color: #98be65;">)</span> ... <span style="color: #98be65;">(</span>vN eN<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> e<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;;          </span><span style="color: #5B6268;">|||</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>v1 e1<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>v2 e2<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">let</span> <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">(</span>v3 e3<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    .........
 e<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>


            <span style="color: #5B6268;">;;;;;;;;;;;;;;;;;;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">letrec</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084; &#1079;&#1085;&#1072;&#1095;<span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084; &#1079;&#1085;&#1072;&#1095;<span style="color: #98be65;">)</span>
         ....
         <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;n &#1079;&#1085;&#1072;&#1095;n<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  &#1074;&#1099;&#1088;&#1072;&#1078;<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1080; &#1079;&#1085;&#1072;&#1095;k &#1084;&#1086;&#1078;&#1085;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1083;&#1102;&#1073;&#1099;&#1077; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1099;&#1077;</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fact</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">letrec</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>loop
            <span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #c678dd;">(</span>i res<span style="color: #c678dd;">)</span>
              <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&gt; i n<span style="color: #98be65;">)</span>
                  res
                  <span style="color: #98be65;">(</span>loop <span style="color: #a9a1e1;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> i<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>* i res<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>

  <span style="color: #98be65;">(</span>loop <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">let &#1089; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1077;&#1081;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1072;&#1085;&#1072;&#1083;&#1086;&#1075;&#1080;&#1095;&#1077;&#1085; &#1086;&#1073;&#1099;&#1095;&#1085;&#1086;&#1084;&#1091; let, &#1085;&#1086; &#1074; &#1087;&#1077;&#1088;&#1077;&#1084;0 &#1082;&#1083;&#1072;&#1076;&#1077;&#1090;&#1089;&#1103; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1072;&#1103; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1072;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">&#1087;&#1077;&#1088;&#1077;&#1084;0</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;1 &#1079;&#1085;&#1072;&#1095;1<span style="color: #98be65;">)</span>
             <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;2 &#1079;&#1085;&#1072;&#1095;2<span style="color: #98be65;">)</span>
             ......
             <span style="color: #98be65;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;n &#1079;&#1085;&#1072;&#1095;n<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
     &#1074;&#1099;&#1088;&#1072;&#1078;<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1072;&#1103; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; - &#1089; n &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1072;&#1084;&#1080;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #c678dd;">&#1087;&#1077;&#1088;&#1077;&#1084;0</span> &#1087;&#1077;&#1088;&#1077;&#1084;1 .. &#1087;&#1077;&#1088;&#1077;&#1084;n<span style="color: #98be65;">)</span>
         &#1074;&#1099;&#1088;&#1072;&#1078;<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>&#1087;&#1077;&#1088;&#1077;&#1084;0 &#1079;&#1085;&#1072;&#1095;1 ... &#1079;&#1085;&#1072;&#1095;n<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fact</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">loop</span><span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>res <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>&gt; i n<span style="color: #a9a1e1;">)</span>
        res
        <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>+ i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>* res i<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">loop</span> i res<span style="color: #c678dd;">)</span>
  ......<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>loop <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd17b346" class="outline-2">
<h2 id="orgd17b346"><span class="section-number-2">7.</span> Лекция 4</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org48fe860" class="outline-3">
<h3 id="org48fe860"><span class="section-number-3">7.1.</span> хвостовая рекурсия</h3>
<div class="outline-text-3" id="text-7-1">
<p>
может неявно компилироваться в цикл
</p>
</div>
<div id="outline-container-org1ab6d9b" class="outline-4">
<h4 id="org1ab6d9b"><span class="section-number-4">7.1.1.</span> рекурсия</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
случай, когда задачу можно разбить на одну или несколько меньших задач, подобных исходной
</p>
</div>
</div>
<div id="outline-container-org011aaac" class="outline-4">
<h4 id="org011aaac"><span class="section-number-4">7.1.2.</span> как цикл while выражать в виде рекурсии</h4>
<div class="outline-text-4" id="text-7-1-2">
<p>
цикл - выполнение n-ого количества одинаковых операций <br />
сводится к: выполнение одного шага + выполнение остальных <br />
если алгоритм подразумевает цикл с изменяющимися значениями переменных, то
</p>
<ol class="org-ol">
<li>определяем вспомогательную функцию
ее параметры - изменяющиеся переменные</li>
<li><p>
функция имеет вид
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">loop</span> ...<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&#1087;&#1088;&#1086;&#1076;&#1086;&#1083;&#1078;&#1072;&#1090;&#1100; &#1094;&#1080;&#1082;&#1083;?<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>loop &lt;&#1085;&#1086;&#1074;&#1099;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1086;&#1074;&gt;<span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>&#1074;&#1099;&#1093;&#1086;&#1076; &#1080;&#1079; &#1094;&#1080;&#1082;&#1083;&#1072;-&#1092;&#1086;&#1088;&#1084;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; &#1087;&#1086;&#1083;&#1077;&#1079;&#1085;&#1086;&#1075;&#1086; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103;<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div></li>
<li>вызываем функцию <br />
в качестве параметров - начальные значения переменных</li>
</ol>
</div>
<ol class="org-ol">
<li><a id="orgb900a61"></a>примеры:<br />
<div class="outline-text-5" id="text-7-1-2-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">def</span> <span style="color: #c678dd;">gcd</span>(x, y):
    <span style="color: #51afef;">while</span> y != <span style="color: #da8548; font-weight: bold;">0</span>:
        <span style="color: #dcaeea;">x</span>, <span style="color: #dcaeea;">y</span> = y, x % y
    <span style="color: #51afef;">return</span> x
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-gcd</span> x y<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>not <span style="color: #a9a1e1;">(</span>= y <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span>my-gcd y <span style="color: #a9a1e1;">(</span>remainder x y<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
      x<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">def</span> <span style="color: #c678dd;">fact</span>(n):
    <span style="color: #dcaeea;">i</span> = <span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #dcaeea;">res</span> = <span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #51afef;">while</span> i &lt;= n:
        <span style="color: #dcaeea;">res</span> = res * i
        <span style="color: #dcaeea;">i</span> = i + <span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #51afef;">return</span> res
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fact</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">define</span> <span style="color: #98be65;">(</span><span style="color: #c678dd;">loop</span> i res<span style="color: #98be65;">)</span>
  <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>&lt;= i n<span style="color: #a9a1e1;">)</span>
      <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>+ i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>* res i<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span>
      res<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>loop <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fact</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">let</span> <span style="color: #c678dd;">loop</span> <span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span>i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span>
             <span style="color: #a9a1e1;">(</span>res <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>&lt;= i n<span style="color: #a9a1e1;">)</span>
        <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>+ i <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
              <span style="color: #51afef;">(</span>* res i<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span>
        res<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgc0073a6" class="outline-4">
<h4 id="orgc0073a6"><span class="section-number-4">7.1.3.</span> определение хвостовой рекурсии</h4>
<div class="outline-text-4" id="text-7-1-3">
<p>
рекурсивный вызов называется хвостовым, если он выполняется последним
</p>
<ul class="org-ul">
<li>2 вида передачи управления: вызов подпрограммы и goto</li>
<li>стек FILO</li>
</ul>
</div>
</div>
<div id="outline-container-orgcf39409" class="outline-4">
<h4 id="orgcf39409"><span class="section-number-4">7.1.4.</span> вызов подпрограммы</h4>
<div class="outline-text-4" id="text-7-1-4">
<ol class="org-ol">
<li>сохраняем контекст</li>
<li>передаем управление на подпрограмму</li>
<li>подпрограмма завершается</li>
<li>восстанавливаем контекст вычислений</li>
</ol>
<p>
Контекст вычислений содержит значения локальных переменных и адрес возврата -
место в коде, с которого надо восстановить работу при завершении вызова подпрограммы. <br />
Контексты вычислений образуют стек вызовов (для вложенных подпрограмм)
</p>
</div>
</div>
<div id="outline-container-orgcc18161" class="outline-4">
<h4 id="orgcc18161"><span class="section-number-4">7.1.5.</span> <span class="todo TODO">TODO</span> fix name</h4>
<div class="outline-text-4" id="text-7-1-5">
<p>
в общем случае вызов функции в Scheme работает как вызов подпрограммы
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">gcd</span> x y<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>= y <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span>
      x
      <span style="color: #98be65;">(</span>gcd y <span style="color: #a9a1e1;">(</span>remainder x y<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org7c6f2c4"></a>хвостовая рекурсия<br />
<div class="outline-text-5" id="text-7-1-5-1">
<p>
для хвостовых вызовов контекст вычисления можно не сохранять, т.к. он уже не нужен:
</p>
<ul class="org-ul">
<li>вызов последний, других вызовов после него нет, локальные переменные можно забыть</li>
<li>в точке возврата будет выполняться возврат из вызывающей функции</li>
<li>стек расти не будет, т.к. контексты вызовов(стековые фреймы) создаваться не будут</li>
</ul>
</div>
</li>
<li><a id="org97cd6f7"></a>нехвостовая рекурсия<br />
<div class="outline-text-5" id="text-7-1-5-2">
<p>
стек вызовов будет расти <br />
</p>

<p>
Умный компилятор может распозновать хвостовую рекурсию и компилировать ее в цикл
</p>
</div>
</li>
<li><a id="org84ba6d9"></a>пример нехвостовой рекурсии<br />
<div class="outline-text-5" id="text-7-1-5-3">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">fact</span> n<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&lt;= n <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span>
      <span style="color: #da8548; font-weight: bold;">1</span>
      <span style="color: #98be65;">(</span>* n <span style="color: #a9a1e1;">(</span>fact <span style="color: #51afef;">(</span>- n <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1086;&#1089;&#1083;&#1077; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; * (&#1091;&#1084;&#1085;&#1086;&#1078;&#1077;&#1085;&#1080;&#1077;)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1079;&#1085;&#1072;&#1095;&#1080;&#1090;, &#1074;&#1099;&#1079;&#1086;&#1074; &#1085;&#1077; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080;&#1081;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1086;&#1089;&#1083;&#1077; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1083;&#1086;&#1082;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1072;&#1103;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1085;&#1086; &#1086;&#1076;&#1085;&#1086; &#1080;&#1079; &#1101;&#1090;&#1080;&#1093; &#1076;&#1074;&#1091;&#1093; &#1091;&#1089;&#1083;&#1086;&#1074;&#1080;&#1081;</span>
</pre>
</div>
</div>
</li>

<li><a id="orgcf201b2"></a><span class="todo TODO">TODO</span> написать с goto; пример хвостовой рекурсии<br />
<div class="outline-text-5" id="text-7-1-5-4">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">fact</span><span style="color: #51afef;">(</span><span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">n</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">return</span> loop<span style="color: #c678dd;">(</span>n, <span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span>;
<span style="color: #51afef;">}</span>
<span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">loop</span><span style="color: #51afef;">(</span><span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">n</span>, <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">i</span>, <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">res</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">(</span>i &lt;= n<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">{</span>
        <span style="color: #51afef;">return</span> loop<span style="color: #98be65;">(</span>n, i + <span style="color: #da8548; font-weight: bold;">1</span>, res * i<span style="color: #98be65;">)</span>;
    <span style="color: #c678dd;">}</span> <span style="color: #51afef;">else</span> <span style="color: #c678dd;">{</span>
        <span style="color: #51afef;">return</span> res;
    <span style="color: #c678dd;">}</span>
<span style="color: #51afef;">}</span>
<span style="color: #ECBE7B;">int</span> <span style="color: #c678dd;">loop</span><span style="color: #51afef;">(</span><span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">n</span>, <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">i</span>, <span style="color: #ECBE7B;">int</span> <span style="color: #dcaeea;">res</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">{</span>
    <span style="color: #a9a1e1;">LOOP</span>:
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">(</span>i &lt;= n<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">{</span>
        res = res * i;
        i = i + <span style="color: #da8548; font-weight: bold;">1</span>;
        <span style="color: #51afef;">goto</span> <span style="color: #a9a1e1;">LOOP</span>;
    <span style="color: #c678dd;">}</span> <span style="color: #51afef;">else</span> <span style="color: #c678dd;">{</span>
        <span style="color: #51afef;">return</span> res;
    <span style="color: #c678dd;">}</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>
<li><a id="org61962d6"></a>символы<br />
<div class="outline-text-5" id="text-7-1-5-5">
<p>
Если поставим одинарную кавычку перед именем переменной(или ключевым словом), получим символ:
</p>
<div class="org-src-container">
<pre class="src src-scheme">'x        'hello
'lambda   'factorial
</pre>
</div>
<p>
Это атом, представляет зацитированное(цитата) &ldquo;замороженное&rdquo; имя <br />
</p>

<p>
Цитирование строк, чисел, литер их не измненяет
</p>
<pre class="example" id="orgb896e38">
'1 -&gt; 1
'"hello" -&gt; "hello"
'#\a -&gt; #\a
'#\newline -&gt; #\newline
'#t -&gt; #t
'#f -&gt; #f
</pre>
</div>
</li>
</ol>
</div>
<div id="outline-container-orga263da3" class="outline-4">
<h4 id="orga263da3"><span class="section-number-4">7.1.6.</span> списки</h4>
<div class="outline-text-4" id="text-7-1-6">
<p>
Список - последовательность значений,
основная структура данных в языках семейства LISP <br />
Во время выполнения выглядит примерно так:
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
</pre>
</div>
<p>
Создание списка:
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>list <span style="color: #ECBE7B;">&lt;&#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1099;&gt;</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>list<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">()</span> - &#1087;&#1091;&#1089;&#1090;&#1086;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;
</pre>
</div>
<p>
Операции над списками:
</p>
<ol class="org-ol">
<li><p>
cons
</p>

<div class="org-src-container">
<pre class="src src-scheme">   <span style="color: #51afef;">(</span>cons <span style="color: #ECBE7B;">&lt;&#1075;&#1086;&#1083;&#1086;&#1074;&#1072;&gt;</span> <span style="color: #ECBE7B;">&lt;&#1093;&#1074;&#1086;&#1089;&#1090;&gt;</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span>
   <span style="color: #ECBE7B;">&lt;&#1075;&#1086;&#1083;&#1086;&#1074;&#1072;&gt;</span> - &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;
   <span style="color: #ECBE7B;">&lt;&#1093;&#1074;&#1086;&#1089;&#1090;&gt;</span> - &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;
</pre>
</div>
<p>
Строит список, где первый элемент голова, а все остальные хвост
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">odds</span> <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons <span style="color: #da8548; font-weight: bold;">2</span> odds<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
(2 3 5 7)
(2 3 5 7)
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>cons <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #c678dd;">(</span>cons <span style="color: #da8548; font-weight: bold;">9</span> odds<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">9</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons 'x <span style="color: #c678dd;">(</span>list<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>x<span style="color: #51afef;">)</span>
</pre>
</div></li>
</ol>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>list? <span style="color: #ECBE7B;">&lt;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;&gt;</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">#t | #f</span>
<span style="color: #51afef;">(</span>list? odds<span style="color: #51afef;">)</span> -&gt; #t
<span style="color: #51afef;">(</span>list? <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span> -&gt; #f
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1101;&#1090;&#1086; &#1087;&#1088;&#1077;&#1076;&#1080;&#1082;&#1072;&#1090; &#1090;&#1080;&#1087;&#1072;</span>
<span style="color: #51afef;">(</span>null? <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span><span style="color: #51afef;">)</span> -&gt; &lt;&#1083;&#1086;&#1075; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;&gt;
#t - &#1087;&#1091;&#1089;&#1090;&#1086;&#1081;
#f - &#1085;&#1077;&#1087;&#1091;&#1089;&#1090;&#1086;&#1081;
<span style="color: #51afef;">(</span>null? odd<span style="color: #51afef;">)</span> -&gt; #f
<span style="color: #51afef;">(</span>null? <span style="color: #c678dd;">(</span>list<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; #t
<span style="color: #51afef;">(</span>car <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #ECBE7B;">&lt;&#1075;&#1086;&#1083;&#1086;&#1074;&#1072;&gt;</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">content of address register</span>
<span style="color: #51afef;">(</span>cdr <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #ECBE7B;">&lt;&#1093;&#1074;&#1086;&#1089;&#1090;&gt;</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">content of destination register</span>
cdr - &#1074;&#1089;&#1077; &#1082;&#1088;&#1086;&#1084;&#1077; &#1075;&#1086;&#1083;&#1086;&#1074;&#1099;
<span style="color: #51afef;">(</span>car odds<span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">3</span>
<span style="color: #51afef;">(</span>cdr odds<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>car <span style="color: #c678dd;">(</span>cdr odds<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">5</span>
<span style="color: #51afef;">(</span>cdr <span style="color: #c678dd;">(</span>cdr odds<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">7</span>
<span style="color: #51afef;">(</span>cdr <span style="color: #c678dd;">(</span>cdr <span style="color: #98be65;">(</span>cdr odds<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">()</span>
<span style="color: #51afef;">(</span>cadr ....<span style="color: #51afef;">)</span> == <span style="color: #51afef;">(</span>car <span style="color: #c678dd;">(</span>cdr ..<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>caar ...<span style="color: #51afef;">)</span> == <span style="color: #51afef;">(</span>car <span style="color: #c678dd;">(</span>car ...<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cdadr ....<span style="color: #51afef;">)</span> == <span style="color: #51afef;">(</span>cdr <span style="color: #c678dd;">(</span>car <span style="color: #98be65;">(</span>cdr ....<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
&#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1090;&#1089;&#1103; &#1089;&#1087;&#1088;&#1072;&#1074;&#1072; &#1085;&#1072;&#1083;&#1077;&#1074;&#1086;
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">nested</span> <span style="color: #c678dd;">(</span>list <span style="color: #98be65;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #98be65;">)</span>
                     <span style="color: #98be65;">(</span>list <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
nested -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cdar nested<span style="color: #51afef;">)</span> == <span style="color: #51afef;">(</span>cdr <span style="color: #c678dd;">(</span>car nested<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>car nested<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cdr nested<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cadr nested<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>caadr nested<span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">3</span>
<span style="color: #51afef;">(</span>cdadr nested<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>

</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org01f20d0"></a>списки можно цитировать<br />
<div class="outline-text-6" id="text-7-1-6-0-1">
<div class="org-src-container">
<pre class="src src-scheme">'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span>a b c d<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>a b c d<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>list 'a 'b 'c 'd<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>a b c d<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org36080fc" class="outline-2">
<h2 id="org36080fc"><span class="section-number-2">8.</span> Лекция 5</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">()</span> - &#1087;&#1091;&#1089;&#1090;&#1086;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;
&#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; <span style="color: #51afef;">(</span>length <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #ECBE7B;">&lt;&#1095;&#1080;&#1089;&#1083;&#1086;&gt;</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">O(n)</span>
<span style="color: #51afef;">(</span>length '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">3</span>
<span style="color: #51afef;">(</span>length '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">2</span>
<span style="color: #51afef;">(</span>length '<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">0</span>

<span style="color: #51afef;">(</span>append <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span> <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span> ...<span style="color: #51afef;">)</span> -&gt; <span style="color: #ECBE7B;">&lt;&#1089;&#1087;&#1080;&#1089;&#1086;&#1082;&gt;</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>append '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">6</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">6</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>append '<span style="color: #c678dd;">(</span>a b c<span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span>d e<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>a b c d e<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">5</span>
<span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">2</span>
<span style="color: #51afef;">(</span>+<span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">0</span>
<span style="color: #51afef;">(</span>* <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">6</span>
<span style="color: #51afef;">(</span>* <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">2</span>
<span style="color: #51afef;">(</span>*<span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #51afef;">(</span>append '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>append<span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">()</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-length</span> xs<span style="color: #c678dd;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">xs - "&#1080;&#1082;&#1089;&#1099;"; ys - "&#1080;&#1075;&#1088;&#1077;&#1082;&#1080;"</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      <span style="color: #da8548; font-weight: bold;">0</span>
      <span style="color: #98be65;">(</span>+ <span style="color: #a9a1e1;">(</span>my-length <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1072;&#1088;&#1080;&#1072;&#1085;&#1090; &#1089; &#1093;&#1074;&#1086;&#1089;&#1090;&#1086;&#1074;&#1086;&#1081; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1077;&#1081;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-length</span> xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">define</span> <span style="color: #98be65;">(</span><span style="color: #c678dd;">loop</span> n xs<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>null? xs<span style="color: #a9a1e1;">)</span>
        n
        <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> n<span style="color: #51afef;">)</span> <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>loop <span style="color: #da8548; font-weight: bold;">0</span> xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">sum</span> xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      <span style="color: #da8548; font-weight: bold;">0</span>
      <span style="color: #98be65;">(</span>+ <span style="color: #a9a1e1;">(</span>car xs<span style="color: #a9a1e1;">)</span>
         <span style="color: #a9a1e1;">(</span>sum <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-append</span> xs ys<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      ys
      <span style="color: #98be65;">(</span>cons <span style="color: #a9a1e1;">(</span>car xs<span style="color: #a9a1e1;">)</span>
            <span style="color: #a9a1e1;">(</span>my-append <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span> ys<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span>my-append '<span style="color: #c678dd;">(</span>a b c<span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span>x y z<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons <span style="color: #c678dd;">(</span>car '<span style="color: #98be65;">(</span>a b c<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
      <span style="color: #c678dd;">(</span>my-append <span style="color: #98be65;">(</span>cdr '<span style="color: #a9a1e1;">(</span>a b c<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span> '<span style="color: #98be65;">(</span>x y z<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons 'a <span style="color: #c678dd;">(</span>my-append '<span style="color: #98be65;">(</span>b c<span style="color: #98be65;">)</span> '<span style="color: #98be65;">(</span>x y z<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons 'a <span style="color: #c678dd;">(</span>cons 'b <span style="color: #98be65;">(</span>cons 'c <span style="color: #a9a1e1;">(</span>my-append '<span style="color: #51afef;">()</span> '<span style="color: #51afef;">(</span>x y z<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>cons 'a <span style="color: #c678dd;">(</span>cons 'b <span style="color: #98be65;">(</span>cons 'c '<span style="color: #a9a1e1;">(</span>x y z<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span>a b c x y z<span style="color: #51afef;">)</span>
</pre>
</div>
</div>
<div id="outline-container-org7b08ac8" class="outline-3">
<h3 id="org7b08ac8"><span class="section-number-3">8.1.</span> функция map</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> f <span style="color: #c678dd;">(</span>x1 x2 ... xn<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>f x1<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>f x2<span style="color: #c678dd;">)</span> .. <span style="color: #c678dd;">(</span>f xn<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> - '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">-1</span> <span style="color: #da8548; font-weight: bold;">-2</span> <span style="color: #da8548; font-weight: bold;">-4</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> car '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>a b<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>c d<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>e f<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>a c e<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> cdr '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>a b<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>c d<span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span>e f<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>b<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>d<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>f<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> even? '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">7</span> <span style="color: #da8548; font-weight: bold;">11</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span>#t #f #f #f #f<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-map</span> f xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      '<span style="color: #98be65;">()</span>
      <span style="color: #98be65;">(</span>cons <span style="color: #a9a1e1;">(</span>f <span style="color: #51afef;">(</span>car xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span>
            <span style="color: #a9a1e1;">(</span>my-map f <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> f <span style="color: #c678dd;">(</span>x1 ... xk<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>y1 ... yn<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>z1 .... zm<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
-&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>f x1 y1 z1<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>f x2 y2 z2<span style="color: #c678dd;">)</span> ... <span style="color: #c678dd;">(</span>f xl yl zl<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">l = min(k, n, m)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">map</span> + '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">5</span><span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">8</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">5</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span>
</pre>
</div>
<p>
Напишем функцию (cart-prod xs ys)
вычисляющую декартово произведение
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>cart-prod '<span style="color: #c678dd;">(</span>a b c<span style="color: #c678dd;">)</span> '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>a <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>a <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>a <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>a <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>b <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>b <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>b <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>b <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>c <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>c <span style="color: #da8548; font-weight: bold;">2</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>c <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>c <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">cart-prod</span> xs ys<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      '<span style="color: #98be65;">()</span>
      <span style="color: #98be65;">(</span>append <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">map</span> <span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #c678dd;">(</span>y<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>list <span style="color: #98be65;">(</span>car xs<span style="color: #98be65;">)</span> y<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
                   ys<span style="color: #a9a1e1;">)</span>
              <span style="color: #a9a1e1;">(</span>cart-prod <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span> ys<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0382bc1" class="outline-3">
<h3 id="org0382bc1"><span class="section-number-3">8.2.</span> списков не существует (в Scheme)</h3>
<div class="outline-text-3" id="text-8-2">
<p>
А существуют cons-ячейки - пары(кортежи) из двух значений <br />
Функция cons порождает cons-ячейку, car и cdr - доступ к её элементам <br />
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>cons <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">7</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1.7</span><span style="color: #51afef;">)</span>
</pre>
</div>
<p>
Константа &rsquo;() - пустой список - это атом <br />
Список (правильный список) - это:
</p>
<ol class="org-ol">
<li>пустой список &rsquo;()</li>
<li>cons-ячейка, cdr которой - правильный список</li>
</ol>
<div class="org-src-container">
<pre class="src src-scheme">'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> == <span style="color: #51afef;">(</span>cons <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #c678dd;">(</span>cons <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #98be65;">(</span>cons <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #a9a1e1;">(</span>cons <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

'<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span>a b<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>c d e<span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>f g<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

'<span style="color: #51afef;">(</span><span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>list <span style="color: #c678dd;">(</span>list<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> == '<span style="color: #51afef;">(</span><span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>car '<span style="color: #c678dd;">(</span><span style="color: #98be65;">()</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; '<span style="color: #51afef;">()</span>
<span style="color: #51afef;">(</span>cdr '<span style="color: #c678dd;">(</span><span style="color: #98be65;">()</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; '<span style="color: #51afef;">()</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1053;&#1077;&#1087;&#1088;&#1072;&#1074;&#1080;&#1083;&#1100;&#1085;&#1099;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;:</span>
<span style="color: #51afef;">(</span>cons <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #c678dd;">(</span>cons <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #98be65;">(</span>cons <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3.4</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1090;&#1086;&#1095;&#1082;&#1072; &#1086;&#1090;&#1076;&#1077;&#1083;&#1103;&#1077;&#1090; car &#1086;&#1090; cdr( &#1075;&#1086;&#1083;&#1086;&#1074;&#1091; &#1086;&#1090; &#1093;&#1074;&#1086;&#1089;&#1090;&#1072; )</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1.2</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>car '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1.2</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #51afef;">(</span>cdr '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1.2</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">2</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> . '<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> .<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span> . '<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span><span style="color: #c678dd;">()</span>.<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span>
'<span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1.</span><span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">2.</span><span style="color: #98be65;">(</span><span style="color: #da8548; font-weight: bold;">3.</span><span style="color: #a9a1e1;">(</span><span style="color: #da8548; font-weight: bold;">4.</span><span style="color: #51afef;">()</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1090;&#1086;&#1095;&#1077;&#1095;&#1085;&#1072;&#1103; &#1085;&#1086;&#1090;&#1072;&#1094;&#1080;&#1103;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0823492" class="outline-3">
<h3 id="org0823492"><span class="section-number-3">8.3.</span> Функции с переменным числом параметров</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> xs ...<span style="color: #51afef;">)</span>
     <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">|-&gt; &#1073;&#1077;&#1079; &#1089;&#1082;&#1086;&#1073;&#1086;&#1082;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1089;&#1077; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1091;&#1087;&#1072;&#1076;&#1091;&#1090; &#1074; xs</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">lambda</span> <span style="color: #c678dd;">(</span>a b c.xs<span style="color: #c678dd;">)</span> ...<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1087;&#1088;&#1080;&#1085;&#1080;&#1084;&#1072;&#1077;&#1090; &#1084;&#1080;&#1085;&#1080;&#1084;&#1091;&#1084; 3 &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1072;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">f</span> a b c.xs<span style="color: #c678dd;">)</span>
  .......<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; &#1089; &#1082;&#1072;&#1082; &#1084;&#1080;&#1085;&#1080;&#1084;&#1091;&#1084; 3&#1084;&#1103; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1072;&#1084;&#1080;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1089;&#1077; &#1076;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1077; &#1091;&#1087;&#1072;&#1076;&#1091;&#1090; &#1074; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; xs</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">f</span> . xs<span style="color: #c678dd;">)</span>
  ...<span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">==</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">f</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> xs ...<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; &#1089; &#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1086;&#1083;&#1100;&#1085;&#1099;&#1084; &#1095;&#1080;&#1089;&#1083;&#1086;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1086;&#1074;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">n</span> . xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>length xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>n <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">7</span> <span style="color: #da8548; font-weight: bold;">8</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">3</span>
<span style="color: #51afef;">(</span>n <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">4</span>
<span style="color: #51afef;">(</span>n<span style="color: #51afef;">)</span> -&gt; <span style="color: #da8548; font-weight: bold;">0</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">my-list</span> . xs<span style="color: #c678dd;">)</span> xs<span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>my-list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> xs xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">()</span>
<span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> xs xs<span style="color: #c678dd;">)</span> <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span> -&gt; <span style="color: #51afef;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">my-list</span> <span style="color: #c678dd;">(</span><span style="color: #51afef;">lambda</span> xs xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf3291db" class="outline-2">
<h2 id="orgf3291db"><span class="section-number-2">9.</span> Лекция 6</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>apply func xs<span style="color: #51afef;">)</span>
</pre>
</div>
<p>
Вызывает функцию с переменным числом параметров, <br />
передавая xs в качестве всех аргументов
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>apply + '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">4</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; 10</span>
<span style="color: #51afef;">(</span>apply + numbers<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">numbers - &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1095;&#1080;&#1089;&#1077;&#1083;</span>
</pre>
</div>
</div>

<div id="outline-container-org075af42" class="outline-3">
<h3 id="org075af42"><span class="section-number-3">9.1.</span> Вычислительная сложность</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Это оценка времени работы алгоритма
с точностью до сомножителя <br />
Записывается как O(f(n)), <br />
где f(n) - некоторая функция, зависящая от входных данных (или объема входных данных) <br />
O(n<sup>3</sup>) - время работы пропорционально кубу n <br />
O(|xs|) - линейно от длины списка xs <br />
O(1) - константное время, не зависит от входных данных <br />
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>length xs<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">O(|xs|)</span>
<span style="color: #51afef;">(</span>null? xs<span style="color: #51afef;">)</span>, <span style="color: #51afef;">(</span>cons x xs<span style="color: #51afef;">)</span>, car, cdr <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">O(1)</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>pair? a<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #t, &#1077;&#1089;&#1083;&#1080; a - cons-&#1103;&#1095;&#1077;&#1081;&#1082;&#1072;</span>
          <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #f &#1074; &#1086;&#1089;&#1090;&#1072;&#1083;&#1100;&#1085;&#1099;&#1093; &#1089;&#1083;&#1091;&#1095;&#1072;&#1103;&#1093;</span>
<span style="color: #51afef;">(</span>pair? <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #f</span>
<span style="color: #51afef;">(</span>pair? '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #t</span>
<span style="color: #51afef;">(</span>pair? '<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #f</span>

<span style="color: #51afef;">(</span>list? '<span style="color: #c678dd;">()</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; #t</span>

<span style="color: #51afef;">(</span>pair? a<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">O(1)</span>
<span style="color: #51afef;">(</span>list? a<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">O(|a|)</span>
</pre>
</div>
</div>
<div id="outline-container-org0e66f23" class="outline-4">
<h4 id="org0e66f23"><span class="section-number-4">9.1.1.</span> <span class="todo TODO">TODO</span> вынести комментарии из кода</h4>
<div class="outline-text-4" id="text-9-1-1">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">sum</span> xs<span style="color: #c678dd;">)</span>
     <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>&gt; <span style="color: #a9a1e1;">(</span>length xs<span style="color: #a9a1e1;">)</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span>+ <span style="color: #a9a1e1;">(</span>car xs<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>sum <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
         <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">car, cdr, &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1099;&#1081; &#1074;&#1099;&#1079;&#1086;&#1074;, &gt;, if, + -&gt; O(n)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">(length xs) -&gt; O(|xs|)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1042;&#1088;&#1077;&#1084;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1073;&#1077;&#1079; &#1091;&#1095;&#1077;&#1090;&#1072; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; - O(|xs|)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1063;&#1080;&#1089;&#1083;&#1086; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1099;&#1093; &#1074;&#1099;&#1079;&#1086;&#1074;&#1086;&#1074; - O(|xs|)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1042; &#1089;&#1091;&#1084;&#1084;&#1077; |xs| * O(|xs|) = O(|xs|^2)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1058;.&#1077;. &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; &#1082;&#1074;&#1072;&#1076;&#1088;&#1072;&#1090;&#1080;&#1095;&#1085;&#1072;&#1103;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1086;&#1094;&#1077;&#1085;&#1080;&#1084; &#1090;&#1086;&#1095;&#1085;&#1077;&#1077;: O(n + (n - 1) + ... + 3 + 2 + 1) = O((n * (n + 1))/2) = O((n^2) / 2 + (n^2) / 2) = O(n^2)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">sum</span> xs<span style="color: #c678dd;">)</span>
     <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>not <span style="color: #a9a1e1;">(</span>null? xs<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
         <span style="color: #98be65;">(</span>+ <span style="color: #a9a1e1;">(</span>car xs<span style="color: #a9a1e1;">)</span> <span style="color: #a9a1e1;">(</span>sum <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span>
         <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1053;&#1072; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084; &#1074;&#1099;&#1079;&#1086;&#1074;&#1077; &#1074;&#1089;&#1077; &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1080;, &#1082;&#1088;&#1086;&#1084;&#1077; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; - O(1)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1079;&#1085;&#1072;&#1095;&#1080;&#1090; &#1086;&#1073;&#1097;&#1072;&#1103; &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; |xs| * O(1) = O(|xs|)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgab6ea7e" class="outline-4">
<h4 id="orgab6ea7e"><span class="section-number-4">9.1.2.</span> Сравнение на равенство</h4>
<div class="outline-text-4" id="text-9-1-2">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>= x y<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1077;&#1090; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1089; &#1095;&#1080;&#1089;&#1083;&#1086;&#1084;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;, &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1102;&#1097;&#1080;&#1077; &#1089;&#1086; &#1074;&#1089;&#1077;&#1084;:</span>
<span style="color: #51afef;">(</span>equal? x y<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1089;&#1088;&#1072;&#1074;&#1085;&#1080;&#1074;&#1072;&#1077;&#1090; &#1087;&#1086; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1102;</span>
<span style="color: #51afef;">(</span>eqv? x y<span style="color: #51afef;">)</span>, <span style="color: #51afef;">(</span>eq? x y<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1089;&#1088;&#1072;&#1074;&#1085;&#1080;&#1074;&#1072;&#1102;&#1090; &#1087;&#1086; &#1089;&#1089;&#1099;&#1083;&#1082;&#1077;, &#1088;&#1072;&#1079;&#1085;&#1080;&#1094;&#1091; &#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1090;&#1100; &#1074; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1080;</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1088;&#1077;&#1082;&#1086;&#1084;&#1077;&#1085;&#1076;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074;&#1089;&#1077;&#1075;&#1076;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; (equal?), &#1088;&#1077;&#1079;&#1091;&#1083;&#1100;&#1090;&#1072;&#1090; &#1085;&#1072;&#1080;&#1073;&#1086;&#1083;&#1077;&#1077; &#1087;&#1088;&#1077;&#1076;&#1089;&#1082;&#1072;&#1079;&#1091;&#1077;&#1084;</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>= <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">3.0</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>equal? <span style="color: #da8548; font-weight: bold;">3</span> <span style="color: #da8548; font-weight: bold;">3.0</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#f
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>eq? <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#f
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>equal? <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">xs</span> <span style="color: #c678dd;">(</span>list <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>eq? xs xs<span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>equal? xs xs<span style="color: #51afef;">)</span>
</pre>
</div>

<pre class="example">
#t
</pre>
</div>
</div>

<div id="outline-container-orgea334ca" class="outline-4">
<h4 id="orgea334ca"><span class="section-number-4">9.1.3.</span> дз сдвигается на неделю (28.09 сдаем только первые 2 задачи)</h4>
<div class="outline-text-4" id="text-9-1-3">
<p>
множества пишем за O(n<sup>2</sup>), имитируя с помощью списков
</p>
</div>
</div>

<div id="outline-container-org0f9008b" class="outline-4">
<h4 id="org0f9008b"><span class="section-number-4">9.1.4.</span> как достигать линейной сложности</h4>
<div class="outline-text-4" id="text-9-1-4">
<p>
если хотим построить список в определенном порядке, иногда имеет смысл сделать список в обратном порядке, а потом реверсировать
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span>reverse xs<span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">- &#1088;&#1077;&#1074;&#1077;&#1088;&#1089;&#1080;&#1088;&#1091;&#1077;&#1090; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1079;&#1072; O(|xs|)</span>
<span style="color: #51afef;">(</span>reverse '<span style="color: #c678dd;">(</span>a b c<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; (c b a)</span>
</pre>
</div>
<p>
cons/reverse - Scheme <br />
push/reverse - Common Lisp <br />
Это прием построения списков с хвостовой рекурсией
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">add-ones</span> xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">if</span> <span style="color: #98be65;">(</span>null? xs<span style="color: #98be65;">)</span>
      '<span style="color: #98be65;">()</span>
      <span style="color: #98be65;">(</span>cons <span style="color: #a9a1e1;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #51afef;">(</span>car xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span>
            <span style="color: #a9a1e1;">(</span>add-ones <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span>add-ones '<span style="color: #c678dd;">(</span><span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #da8548; font-weight: bold;">3</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">-&gt; (2 3 4), O(|xs|) - &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1074;&#1085;&#1072;&#1103;</span>

<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1074;&#1072;&#1088;&#1080;&#1072;&#1085;&#1090; &#1089; &#1093;&#1074;&#1086;&#1089;&#1090;&#1086;&#1074;&#1086;&#1081; &#1088;&#1077;&#1082;&#1091;&#1088;&#1089;&#1080;&#1077;&#1081;</span>
<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">add-ones</span> xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">define</span> <span style="color: #98be65;">(</span><span style="color: #c678dd;">loop</span> res xs<span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>null? xs<span style="color: #a9a1e1;">)</span>
        res
        <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>append res <span style="color: #c678dd;">(</span>list <span style="color: #98be65;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #a9a1e1;">(</span>car xs<span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
              <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>loop '<span style="color: #98be65;">()</span> xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1077;&#1105; &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; - O(|xs|^2)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1090;.&#1082;. &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; append O(|res|)</span>

<span style="color: #51afef;">(</span><span style="color: #51afef;">define</span> <span style="color: #c678dd;">(</span><span style="color: #c678dd;">add-ones</span> xs<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #51afef;">define</span> <span style="color: #98be65;">(</span><span style="color: #c678dd;">loop</span> res xs<span style="color: #98be65;">)</span> <span style="color: #5B6268;">;; </span><span style="color: #5B6268;">res &#1089;&#1090;&#1088;&#1086;&#1080;&#1090;&#1089;&#1103; &#1074; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086;&#1084; &#1087;&#1086;&#1088;&#1103;&#1076;&#1082;&#1077;</span>
    <span style="color: #98be65;">(</span><span style="color: #51afef;">if</span> <span style="color: #a9a1e1;">(</span>null? xs<span style="color: #a9a1e1;">)</span>
        <span style="color: #a9a1e1;">(</span>reverse res<span style="color: #a9a1e1;">)</span>
        <span style="color: #a9a1e1;">(</span>loop <span style="color: #51afef;">(</span>cons <span style="color: #c678dd;">(</span>+ <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #98be65;">(</span>car xs<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> res<span style="color: #51afef;">)</span>
              <span style="color: #51afef;">(</span>cdr xs<span style="color: #51afef;">)</span><span style="color: #a9a1e1;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span>loop '<span style="color: #98be65;">()</span> xs<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
<span style="color: #5B6268;">;; </span><span style="color: #5B6268;">&#1080;&#1084;&#1077;&#1077;&#1090; &#1083;&#1080;&#1085;&#1077;&#1081;&#1085;&#1091;&#1102; &#1089;&#1083;&#1086;&#1078;&#1085;&#1089;&#1090;&#1100; O(|xs|)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Starovoytov Alexandr, Grechko Georgy</p>
<p class="date">Created: 2021-09-28 Tue 11:25</p>
</div>
</body>
</html>
